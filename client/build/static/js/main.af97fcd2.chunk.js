(this["webpackJsonpgoogle-book-search"]=this["webpackJsonpgoogle-book-search"]||[]).push([[0],{32:function(e,a,t){e.exports=t(64)},64:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(25),c=t.n(r),o=t(29),s=t(7),i=t(9),m=t(11),u=t(10),g=t.n(u),v=function(e){var a="https://www.googleapis.com/books/v1/volumes?q=";return a+=encodeURI(e),console.log("queryString: ".concat(a)),g.a.get(a).then((function(e){return e.data.items.map((function(e){var a=e.volumeInfo,t=a.title,n=a.authors,l=a.publishedDate,r=a.description,c=a.averageRating,o=a.ratingsCount,s=a.infoLink;return{title:t,authors:n,publishedDate:l,description:r,averageRating:c,ratingsCount:o,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/200.png?text=No+Image+Found",infoLink:s}}))}))},d=function(){return g.a.get("api/books")},E=function(e){return g.a.post("api/books",e)},f=function(e){return g.a.delete("api/books/"+e)},b=Object(n.createContext)({search:"",results:[],onClick:function(){},onChange:function(){},onFavorite:function(){}}),p=function(){var e=Object(n.useContext)(b),a=e.search,t=e.onClick,r=e.onChange;return l.a.createElement("form",{className:"form-inline row"},l.a.createElement("div",{className:"form-group col-lg-12"},l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{className:"form-control w-100",type:"search",onChange:function(e){return r(e.target.value)},placeholder:"Search by title, author, or subject","aria-label":"Search",value:a||""})),l.a.createElement("div",{className:"col-sm-2 mx-auto"},l.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:function(e){e.preventDefault(),t(a)}},"Search"))))},h=function(){return l.a.createElement("div",{className:"jumbotron"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-4"},"Google Book Search"),l.a.createElement("p",{className:"lead"},"Find books you'll love. Save them for later."),l.a.createElement("hr",{className:"my-4"}),l.a.createElement(p,null)))},N=t(26),k=t.n(N),C=t(27),x=t.n(C),S=function(e){var a=e.averageRating;return l.a.createElement(x.a,{rating:a,starRatedColor:"blue",numberOfStars:5,starDimension:"20px",starSpacing:"1px",name:"rating"})},j=t(28),w=t.n(j),O=function(e){var a=e.lines,t=e.text,n=e.infoLink;return l.a.createElement(w.a,{line:a,element:"span",truncateText:"...",text:t,textTruncateChild:l.a.createElement("a",{href:n},"Read more")})},y=function(){var e=Object(n.useContext)(b),a=e.results,t=e.onFavorite;return a.map((function(e,a){return console.log("=========creating a card for=============="),console.log(e),l.a.createElement("div",{className:"col-12 mb-2 mx-1",key:a},l.a.createElement("div",{className:"card mb-3 mw-100"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("img",{src:e.image,className:"card-img",alt:"".concat(e.title)})),l.a.createElement("div",{className:"col-md-9"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title"},l.a.createElement("a",{href:e.infoLink},e.title),l.a.createElement("button",{type:"button",className:"btn btn-light",onClick:function(){return t(e)}},l.a.createElement("span",{className:"text-danger"},l.a.createElement("i",{className:"fa fa-heart-o"})))),l.a.createElement("p",{className:"card-text"},l.a.createElement("strong",null,"Description:")),e.description?l.a.createElement(O,{lines:3,text:e.description,infoLink:e.infoLink}):l.a.createElement("p",null,"No description available")),l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Author(s):")," ",e.authors?e.authors.join(", "):"Unknown"),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Published:")," ",l.a.createElement(k.a,{format:"MMMM DD, YYYY"},e.publishedDate)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Rating:")," ",e.averageRating?l.a.createElement(S,{averageRating:e.averageRating}):"No ratings"," (",e.ratingsCount?e.ratingsCount:0," reviews)"))))))}))},R=function(){return l.a.createElement("h1",null,"No matches found")},D=function(){var e=Object(n.useContext)(b).results;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},0===e.length?l.a.createElement(R,null):l.a.createElement(y,null)))},L=function(){var e=Object(n.useState)({search:"",results:[],onClick:function(e){v(e).then((function(a){r(Object(i.a)({},t,{search:e,results:a}))}))},onChange:function(e){r(Object(i.a)({},t,{search:e}))},onFavorite:function(e){console.log("============what we're sending to mongo==========="),console.log(e),E(e).then((function(e){console.log(e)}))}}),a=Object(m.a)(e,2),t=a[0],r=a[1];return l.a.createElement(b.Provider,{value:t},l.a.createElement(h,null),l.a.createElement(D,null))},F=function(){var e=Object(n.useState)({results:[],onFavorite:function(e){console.log("=========Deleting==========="),console.log(e);var a=e._id;f(a).then((function(e){c()}))}}),a=Object(m.a)(e,2),t=a[0],r=a[1],c=function(){d().then((function(e){console.log("============get books data received==========="),console.log(e.data),r(Object(i.a)({},t,{results:e.data}))}))};return Object(n.useEffect)((function(){c()}),[]),l.a.createElement(b.Provider,{value:t},l.a.createElement(D,null))},I=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Book Saver"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item",id:"list"},l.a.createElement("a",{className:"nav-link",href:"/"},"Search")),l.a.createElement("li",{className:"nav-item",id:"saved"},l.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))))))};var M=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(I,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:["/","/books"]},l.a.createElement(L,null)),l.a.createElement(s.a,{exact:!0,path:"/saved"},l.a.createElement(F,null)))))};c.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.af97fcd2.chunk.js.map