{"version":3,"sources":["utils/API.js","utils/SearchContext.js","components/Search.js","components/Jumbotron.js","components/Rating.js","components/Truncate.js","components/BookList.js","components/NoMatch.js","components/ListContainer.js","pages/Books.js","pages/Saved.js","components/Nav.js","App.js","index.js"],"names":["query","queryString","encodeURI","console","log","axios","get","then","res","data","items","map","book","volumeInfo","title","authors","publishedDate","description","averageRating","ratingsCount","infoLink","image","imageLinks","thumbnail","post","id","delete","SearchContext","createContext","search","results","onClick","onChange","onFavorite","Search","useContext","searchContext","className","type","event","target","value","placeholder","aria-label","preventDefault","Jumbotron","Rating","props","rating","starRatedColor","numberOfStars","starDimension","starSpacing","name","TruncateText","lines","text","line","element","truncateText","textTruncateChild","href","BookList","index","key","src","alt","Truncate","join","format","NoMatch","ListContainer","length","Books","useState","API","setSearch","searches","Provider","Saved","_id","getBooks","useEffect","Nav","data-toggle","data-target","aria-controls","aria-expanded","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af97fcd2.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default {\n    searchGoogle: (query) => {\n        let queryString = \"https://www.googleapis.com/books/v1/volumes?q=\";\n        queryString += encodeURI(query);\n        console.log(`queryString: ${queryString}`)\n        return axios\n            .get(queryString)\n            .then(res => {\n                const books = res.data.items;\n                return books.map(book => {\n                    const { \n                        title, \n                        authors, \n                        publishedDate, \n                        description, \n                        averageRating, \n                        ratingsCount, \n                        infoLink \n                    } = book.volumeInfo;\n                    \n                    let thumbnail;\n                    if (book.volumeInfo.imageLinks){\n                        thumbnail = book.volumeInfo.imageLinks.thumbnail;\n                    }\n                    else{\n                        thumbnail = \"https://via.placeholder.com/200.png?text=No+Image+Found\"\n                    }\n\n                    \n                    return {\n                        title, \n                        authors,\n                        publishedDate,\n                        description,\n                        averageRating,\n                        ratingsCount,\n                        image: thumbnail,\n                        infoLink\n                    };\n                });\n            });\n    },\n\n    getSaved: () => {\n        return axios.get(\"api/books\")\n    },\n\n    saveBook: (book) => {\n        return axios.post(\"api/books\", book)\n    },\n\n    removeBook: (id) => {\n       return axios.delete(\"api/books/\" + id);\n    }\n};","import { createContext } from \"react\";\n\nconst SearchContext = createContext({\n    search: \"\",\n    results: [],\n    onClick: () => undefined,\n    onChange: () => undefined,\n    onFavorite: () => undefined\n});\n\nexport default SearchContext;","import React, { useContext } from 'react';\nimport searchContext from '../utils/SearchContext';\n\nconst Search = () => {\n    const { search, onClick, onChange } = useContext(searchContext);\n\n    return (\n        <form className=\"form-inline row\">\n            <div className=\"form-group col-lg-12\">\n                <div className=\"col-sm-10\">\n                    <input className=\"form-control w-100\" type=\"search\" onChange={(event) => onChange(event.target.value)} \n                        placeholder=\"Search by title, author, or subject\" aria-label=\"Search\" value={search ? search : \"\"} />\n                </div>\n                <div className=\"col-sm-2 mx-auto\">\n                    <button className=\"btn btn-success\" type=\"submit\" onClick={(event) => {\n                        event.preventDefault();\n                        onClick(search)\n                    }}>Search</button>\n                </div>\n            </div>\n        </form>\n    )\n}\n\nexport default Search;\n","import React from 'react';\nimport Search from \"./Search\";\n\nconst Jumbotron = () => {\n\n    return (\n        <div className=\"jumbotron\">\n            <div className=\"container\">\n                <h1 className=\"display-4\">Google Book Search</h1>\n                <p className=\"lead\">Find books you'll love. Save them for later.</p>\n                <hr className=\"my-4\" />\n                <Search />\n            </div>\n        </div>\n    )\n}\n\nexport default Jumbotron;","import React from 'react';\nimport Ratings from 'react-star-ratings';\n\nconst Rating = (props) => {\n    const { averageRating } = props;\n    return (\n        <Ratings \n            rating={averageRating} \n            starRatedColor=\"blue\" \n            numberOfStars={5} \n            starDimension=\"20px\"\n            starSpacing=\"1px\" \n            name='rating'\n        />\n    )\n}\n\nexport default Rating;\n","import React from 'react';\nimport TextTruncate from 'react-text-truncate';\n\nconst TruncateText = (props) => {\n    const { lines, text, infoLink } = props;\n\n    return (\n        <TextTruncate \n            line={lines}\n            element=\"span\"\n            truncateText=\"...\"\n            text={text}\n            textTruncateChild={<a href={infoLink}>Read more</a>}\n        />\n    )\n}\n\nexport default TruncateText;","import React, { useContext } from 'react';\nimport Moment from 'react-moment';\nimport Rating from './Rating';\nimport SearchContext from '../utils/SearchContext';\nimport TruncateText from './Truncate';\n\n\nconst BookList = () => {\n    const { results, onFavorite } = useContext(SearchContext);\n\n    return (\n        results.map((book, index) => {\n            console.log(\"=========creating a card for==============\");\n            console.log(book);\n            return (\n                <div className=\"col-12 mb-2 mx-1\" key={index}>\n                    <div className=\"card mb-3 mw-100\">\n                        <div className=\"row no-gutters\">\n                            <div className=\"col-md-3\">\n                                <img src={book.image} className=\"card-img\" alt={`${book.title}`} />\n                            </div>\n                            <div className=\"col-md-9\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\"><a href={book.infoLink}>{book.title}</a><button type=\"button\" className=\"btn btn-light\" onClick={() => onFavorite(book)}><span className=\"text-danger\"><i className=\"fa fa-heart-o\"></i></span></button></h5>\n                                    <p className=\"card-text\"><strong>Description:</strong></p> \n                                    {book.description ? <TruncateText lines={3} text={book.description} infoLink={book.infoLink}/> \n                                    : <p>No description available</p>}\n                                </div>\n                                <ul className=\"list-group list-group-flush\">\n                                    <li className=\"list-group-item\"><strong>Author(s):</strong> {book.authors ? book.authors.join(\", \") : \"Unknown\"}</li>\n                                    <li className=\"list-group-item\"><strong>Published:</strong> <Moment format=\"MMMM DD, YYYY\">{book.publishedDate}</Moment></li>\n                                    <li className=\"list-group-item\"><strong>Rating:</strong> {book.averageRating ? <Rating averageRating={book.averageRating} /> : \"No ratings\"} ({book.ratingsCount ? book.ratingsCount : 0} reviews)</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        })\n\n\n    )\n}\n\nexport default BookList;","import React from 'react';\n\nconst NoMatch = () => {\n    return (\n        <h1>No matches found</h1>\n    )\n}\n\nexport default NoMatch;","import React, { useContext } from 'react';\nimport BookList from './BookList';\nimport NoMatch from './NoMatch';\nimport SearchContext from '../utils/SearchContext';\n\n\nconst ListContainer = () => {\n    const { results } = useContext(SearchContext);\n    \n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                {results.length === 0 ?  <NoMatch /> : <BookList />}\n            </div>\n        </div>\n    )\n}\n\nexport default ListContainer;","import React, { useState } from 'react';\nimport API from '../utils/API';\nimport Jumbotron from '../components/Jumbotron';\nimport ListContainer from '../components/ListContainer';\nimport SearchContext from '../utils/SearchContext';\n\nconst Books = () => {\n\n    const [searches, setSearch] = useState({\n        search: \"\",\n        results: [],\n        onClick: (search) => {\n            API.searchGoogle(search)\n                .then(res => {\n                    setSearch({\n                        ...searches,\n                        search,\n                        results: res\n                    })\n            })\n        },\n        onChange: (search) => {\n            setSearch({\n                ...searches,\n                search\n            });\n        },\n        onFavorite: (book) => {\n            console.log(\"============what we're sending to mongo===========\");\n            console.log(book);\n            API.saveBook(book)\n                .then(res => {\n                    console.log(res);\n                })\n        }\n    })\n\n    return (\n        <SearchContext.Provider value={searches}>\n            <Jumbotron />\n            <ListContainer />\n        </SearchContext.Provider>\n\n    )\n}\n\nexport default Books;","import React, { useState, useEffect } from 'react';\nimport API from '../utils/API';\nimport ListContainer from '../components/ListContainer';\nimport SearchContext from '../utils/SearchContext';\n\nconst Saved = () => {\n    \n    const [searches, setSearch] = useState({\n        results: [],\n        onFavorite: (book) => {\n            console.log(\"=========Deleting===========\")\n            console.log(book);\n            const { _id } = book;\n            API.removeBook(_id)\n                .then(data => {\n                    getBooks();\n                })\n        }\n    })\n    \n    const getBooks = () => {\n        API.getSaved()\n            .then(res => {\n                console.log(\"============get books data received===========\")\n                console.log(res.data);\n                setSearch({\n                    ...searches,\n                    results: res.data\n                })\n            });\n    }\n\n    useEffect(() => {\n        getBooks()\n    }, [])\n\n    return (\n        <SearchContext.Provider value={searches}>\n            <ListContainer />\n        </SearchContext.Provider>\n\n    )\n}\n\nexport default Saved;","import React from 'react';\n\nconst Nav = () => {\n    \n    return (\n        <>\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                <div className=\"container\">\n                <a className=\"navbar-brand\" href=\"/\">Book Saver</a>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                    <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item\" id=\"list\">\n                            <a className=\"nav-link\" href=\"/\">Search</a>\n                        </li>\n                        <li className=\"nav-item\" id=\"saved\">\n                            <a className=\"nav-link\" href=\"/saved\">Saved</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n        </>\n        \n    )\n}\n\nexport default Nav;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Books from \"./pages/Books\";\nimport Saved from \"./pages/Saved\";\nimport Nav from \"./components/Nav\";\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        <Nav />\n        <Switch>\n          <Route exact path={[\"/\", \"/books\"]}>\n            <Books />\n          </Route>\n          <Route exact path=\"/saved\">\n            <Saved />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}